<!DOCTYPE html>
	<html lang="en">
		<head>
			<meta charset="utf-8">
		    <title>cleanjs report for file /Users/patrickbrosset/packman/libs/resolver.js</title>
			<style type="text/css">
				body {
					margin: 0;
					padding: 1em;
					font-size: 12px;
					font-family: verdana;
					overflow-x: hidden;
					width: 100%;
					color: #444;
				}
				h1 {
					margin: 0;
					padding: 1em 1em 1em 25px;
				}
				.general {
					padding: 0;
					margin: 0 0 30px 30px;
					list-style-type: none;
					width: 500px;
					color: #222;
				}
				.lines {
					padding: 0;
					margin: 0;
					list-style-type: none;
					width: 10000px;
				}
				.lines .line {
					overflow: hidden;
					padding: 0;
					margin: 0;
					list-style-type: none;
				}
				.lines .line .gutter {
					float: left;
					text-align: right;
					width: 25px;
					padding: 4px 5px 4px 0;
					color: #aaa;
					font-size: 11px;
				}
				.lines .nomessage .gutter {
					color: #ddd;
				}
				.lines .line .messages {
					float: left;
					padding: 0;
					margin: 0;
					list-style-type: none;
					width: 500px;
				}
				.lines .line .messages li, .general li {
					padding: 4px 1em;
					line-height: 13px;
				}
				.lines .line .code {
					float :left;
					margin: 0;
					padding: 0 1em;
					font-family: Menlo, Monaco, Consolas, "Lucida Console", monospace;
					font-size: 11px;
				}
				.error, .info, .warning {
					border-left: 4px solid #3e93bf;
					background: #eee;
				}
				.warning {
					border-color: #f5931f;
				}
				.error {
					font-weight: bold;
					border-color: #d83e0f;
				}
			</style>
		</head>
		<body>
			<h1>/Users/patrickbrosset/packman/libs/resolver.js | grade B+</h1><ul class='general'><li class='info'>File is 47 lines long</li><li class='info'>0 lines of comments</li><li class='info'>40 lines of code</li><li class='info'>7 empty lines</li><li class='info'>There are 2 functions in the file</li><li class='info'>Longest function is 28 lines long, and shortest one is inf (average is 17)</li></ul><ul class='lines'><li class='line nomessage'><span class='gutter'>1</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>var antpattern = require(&quot;./antpattern.js&quot;);</pre></li><li class='line nomessage'><span class='gutter'>2</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>3</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>function isFileMatchingAtLeastOne(filePath, patterns) {</pre></li><li class='line nomessage'><span class='gutter'>4</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  for(var i = 0, l = patterns.length; i &lt; l; i++) {</pre></li><li class='line nomessage'><span class='gutter'>5</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    if(antpattern.match(patterns[i], filePath)) {</pre></li><li class='line nomessage'><span class='gutter'>6</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      return true;</pre></li><li class='line nomessage'><span class='gutter'>7</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    }</pre></li><li class='line nomessage'><span class='gutter'>8</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  }</pre></li><li class='line nomessage'><span class='gutter'>9</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  return false;</pre></li><li class='line nomessage'><span class='gutter'>10</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>}</pre></li><li class='line nomessage'><span class='gutter'>11</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line'><span class='gutter'>12</span><ul class='messages'><li class='warning'>There are more than 20 lines in function resolveFilePaths (28)! If possible, please try to refactor it</li><li class='warning'>Function resolveFilePaths is getting complex (cyclomatic complexity of 8). There may be too much logic going on. Think about splitting.</li></ul><pre class='code'>function resolveFilePaths(packages, allSourceFiles) {</pre></li><li class='line nomessage'><span class='gutter'>13</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  for(packageName in packages) {</pre></li><li class='line nomessage'><span class='gutter'>14</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    var packageFiles = [];</pre></li><li class='line nomessage'><span class='gutter'>15</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    var package = packages[packageName];</pre></li><li class='line nomessage'><span class='gutter'>16</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>17</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    if(!package.files.length) {</pre></li><li class='line nomessage'><span class='gutter'>18</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      if(!package.files.includes) {</pre></li><li class='line nomessage'><span class='gutter'>19</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>        packageFiles = allSourceFiles;</pre></li><li class='line nomessage'><span class='gutter'>20</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      } else {</pre></li><li class='line'><span class='gutter'>21</span><ul class='messages'><li class='error'>Name nb doesn't mean anything</li></ul><pre class='code'>        for(var index = 0, nbOfFiles = allSourceFiles.length; index &lt; nbOfFiles; index++) {</pre></li><li class='line nomessage'><span class='gutter'>22</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>          if(isFileMatchingAtLeastOne(allSourceFiles[index], package.files.includes)) {</pre></li><li class='line nomessage'><span class='gutter'>23</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>            packageFiles.push(allSourceFiles[index]);</pre></li><li class='line nomessage'><span class='gutter'>24</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>          }</pre></li><li class='line nomessage'><span class='gutter'>25</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>        }</pre></li><li class='line nomessage'><span class='gutter'>26</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      }</pre></li><li class='line nomessage'><span class='gutter'>27</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>28</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      if(package.files.excludes) {</pre></li><li class='line nomessage'><span class='gutter'>29</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>        var newPackageFiles = [];</pre></li><li class='line'><span class='gutter'>30</span><ul class='messages'><li class='error'>Name nb doesn't mean anything</li></ul><pre class='code'>        for(var index = 0, nbOfFiles = packageFiles.length; index &lt; nbOfFiles; index++) {</pre></li><li class='line nomessage'><span class='gutter'>31</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>          if(!isFileMatchingAtLeastOne(packageFiles[index], package.files.excludes)) {</pre></li><li class='line nomessage'><span class='gutter'>32</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>            newPackageFiles.push(packageFiles[index]);</pre></li><li class='line nomessage'><span class='gutter'>33</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>          }</pre></li><li class='line nomessage'><span class='gutter'>34</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>        }</pre></li><li class='line nomessage'><span class='gutter'>35</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>        packageFiles = newPackageFiles;</pre></li><li class='line nomessage'><span class='gutter'>36</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      }</pre></li><li class='line nomessage'><span class='gutter'>37</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    } else {</pre></li><li class='line nomessage'><span class='gutter'>38</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>      packageFiles = package.files;</pre></li><li class='line nomessage'><span class='gutter'>39</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    }</pre></li><li class='line nomessage'><span class='gutter'>40</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>41</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>    package.files = packageFiles;</pre></li><li class='line nomessage'><span class='gutter'>42</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  }</pre></li><li class='line nomessage'><span class='gutter'>43</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>44</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>  return packages;</pre></li><li class='line nomessage'><span class='gutter'>45</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>}</pre></li><li class='line nomessage'><span class='gutter'>46</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'></pre></li><li class='line nomessage'><span class='gutter'>47</span><ul class='messages'><li>&nbsp;</li></ul><pre class='code'>module.exports.resolveFilePaths = resolveFilePaths;</pre></li></ul></body></html>